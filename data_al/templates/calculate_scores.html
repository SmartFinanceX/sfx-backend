<!DOCTYPE html>
<html>
<head>
    <title>Calculate Scores</title>
</head>
<body>
    <h1>Calculate Scores</h1>
    <form id="scoresForm">
        <textarea id="jsonInput" rows="100" cols="50" required></textarea>
        <br>
        <input type="submit" value="Calculate">
    </form>

    <script>
        document.getElementById("scoresForm").addEventListener("submit", function(event) {
            event.preventDefault();

            var jsonInput = document.getElementById("jsonInput").value;

            try {
                var jsonData = JSON.parse(jsonInput);

                fetch('/calculate_scores', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(jsonData)
                })
                .then(response => response.json())
                .then(data => {
                    // 处理返回的统计结果
                    console.log(data);
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            } catch (error) {
                console.error('Invalid JSON input:', error);
            }
        });
    </script>
</body>
</html>
